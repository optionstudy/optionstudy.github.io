# 公式编写

## 自定义公式简介
![编辑公式](img/newformular.png)
乍看上去比较复杂，但是通常只会写成下面这样
```
Vars
    //此处添加变量
Begin
    //此处添加公式正文
End
```
公式运行的时候每根k线都会计算一遍公式正文。

## 激动人心的第一个公式
描述：当k线收盘价首次低于5均线时，显示“空”；当k线收盘价首次高于5均线时，显示“多”。

1. 定义变量
“多空”：表示收盘价是否在5均线上方
“首次”：表示收盘价是否首次突破、跌穿5均线
“ma5”：存放当前K线的5均线的值
***注意：Numeric表示存放的内容是数字 Global_Numeric***

```
Vars

Global_Numeric 多空;  //多空=-1表示在5均线下；多空=1表示在5均线上；多空=0表示初始状态
Global_Numeric 首次;  //首次=1表示首次低于或高于5均线
Numeric ma5;

Begin

End
```

